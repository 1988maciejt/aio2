\newcommand{\drawff}[2]{		
	\fill[black!5!white] 		($#1-(0.5, 0.5)$)	rectangle	($#1+(0.5, 0.5)$);
	\draw[thick] 		($#1-(0.5, 0.5)$)	rectangle	($#1+(0.5, 0.5)$);
	\node[] at ($#1+(0.0, 0.0)$) {\large#2};
}
\newcommand{\drawring}[2]{
	\coordinate (A) at ($#1-(1.0,0.0)$);
	\coordinate (A2) at ($(A)+(0.5,0.0)$);
	\coordinate (B) at ($#2+(1.0,0.0)$);
	\coordinate (B2) at ($(B)-(0.5,0.0)$);
	\draw (A) rectangle (B);
	\draw[-latex] (A) -- (A2);
	\draw[-latex] (B) -- (B2);
}
\newcommand{\drawringconnectorup}[3]{
	\coordinate (A) at ($#1+(0.0,1.0)$);
	\coordinate (B) at ($#2-(0.0,1)$);
	\coordinate (C) at ($0.3*(B)+0.7*(A)+(0.0,0.2)$);
	\draw[-latex] #1 -- (A) -- (B) -- ($#2-(0.0,0.2)$);
	\fill[black]  ($#1+(0.0, 0.0)$) circle (0.07);
	\fill[black!5!white]  ($#2+(0.0, 0.0)$) circle (0.20);
	\draw[thick]  ($#2+(0.0, 0.0)$) circle (0.2);
	\draw[thick]  ($#2+(0.0, 0.0)-(0.2,0.0)$) -- ($#2+(0.0, 0.0)+(0.2,0.0)$);
	\draw[thick]  ($#2+(0.0, 0.0)-(0.0,0.2)$) -- ($#2+(0.0, 0.0)+(0.0,0.2)$);
	\node[anchor=west] at (C) {\Large#3};
}
\newcommand{\drawringconnectordown}[3]{
	\coordinate (A) at ($#1-(0.0,1.0)$);
	\coordinate (B) at ($#2+(0.0,1)$);
	\coordinate (C) at ($0.3*(A)+0.7*(B)+(0.0,0.2)$);
	\draw[-latex] #1 -- (A) -- (B) -- ($#2+(0.0,0.2)$);
	\fill[black]  ($#1+(0.0, 0.0)$) circle (0.07);
	\fill[black!5!white]  ($#2+(0.0, 0.0)$) circle (0.20);
	\draw[thick]  ($#2+(0.0, 0.0)$) circle (0.2);
	\draw[thick]  ($#2+(0.0, 0.0)-(0.2,0.0)$) -- ($#2+(0.0, 0.0)+(0.2,0.0)$);
	\draw[thick]  ($#2+(0.0, 0.0)-(0.0,0.2)$) -- ($#2+(0.0, 0.0)+(0.0,0.2)$);
	\node[anchor=west] at (C) {\Large#3};
}
\newcommand{\drawxor}[1]{
	\draw[thick]  ($#1+(0.0, 0.0)$) circle (0.2);
	\draw[thick]  ($#1+(0.0, 0.0)-(0.2,0.0)$) -- ($#1+(0.0, 0.0)+(0.2,0.0)$);
	\draw[thick]  ($#1+(0.0, 0.0)-(0.0,0.2)$) -- ($#1+(0.0, 0.0)+(0.0,0.2)$);
}
\begin{tikzpicture}
	\drawring {(0,0)} {(8,3)};
	
	\drawff {(0,0)} {4}
	\drawff {(0,3)} {5}
	
	\drawff {(2,0)} {3}
	\drawff {(2,3)} {6}
	
	\drawff {(4,0)} {2}
	\drawff {(4,3)} {7}	
	
	\drawff {(6,0)} {1}
	\drawff {(6,3)} {8}
	
	\drawff {(8,0)} {0}
	\drawff {(8,3)} {9}
	
	\draw[thick] (4.5, 2) -- (4, 2) -- (4, 1) -- (4.5, 1) arc [start angle=-90, delta angle=180, radius=0.5] -- (4.5, 2);
	\draw (3, 3) -- (3, 1.75) -- (4, 1.75);
	\draw (3, 0) -- (3, 1.25) -- (4, 1.25);
	\draw[latex-] (7, 0.2) -- (7, 1.5) -- (5, 1.5);
	\fill[black]  (3,3) circle (0.07);
	\fill[black]  (3,0) circle (0.07);
	\drawxor{(7,0)}
	\drawringconnectorup   {(1,0)} {(1,3)} {}
\end{tikzpicture}